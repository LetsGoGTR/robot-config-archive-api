# 깨끗한 우분투 환경에서 정적 빌드 실행 파일 테스트용
FROM ubuntu:22.04

# 최소한의 패키지만 설치 (네트워크 없이도 작동하는지 테스트)
RUN apt-get update && apt-get install -y --no-install-recommends \
    ca-certificates \
    && rm -rf /var/lib/apt/lists/*

# 실행 파일 복사
COPY build/workspace-controller /usr/local/bin/workspace-controller

# 실행 권한 부여
RUN chmod +x /usr/local/bin/workspace-controller

# 네트워크 없이 실행 가능한지 테스트
CMD ["workspace-controller"]

